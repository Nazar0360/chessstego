<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>ChessStego – Hide Messages in Chess Data</title>
	<!-- Load a modern Google Font -->
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
</head>

<body>
	<div class="container">
		<h1>ChessStego</h1>

		<!-- FEN Encoder/Decoder Section -->
		<div class="section" id="fen-section">
			<h2>FEN Encoder/Decoder</h2>
			<p>This method encodes messages (only lowercase a–z, space, and backslash are allowed; maximum length is 38
				characters) into a chess FEN string.</p>
			<div>
				<label for="fen-input">Message to Encode (only a–z, space, and backslash):</label>
				<input type="text" id="fen-input" placeholder="e.g. hello chess">
				<button onclick="encodeFEN()">Encode to FEN</button>
			</div>
			<div>
				<label for="fen-output">Encoded FEN:</label>
				<div class="result-field-container">
					<input type="text" id="fen-output" readonly>
					<button class="copy-button" onclick="copyToClipboard('fen-output', this)">[Copy]</button>
				</div>
			</div>
			
			<div class="open-board">
				Open board:
				<a href="https://www.chess.com/analysis" target="_blank">Chess.com</a> |
				<a href="https://lichess.org/analysis" target="_blank">Lichess</a>
			</div>
			
			<div>
				<label for="fen-decode-input">FEN to Decode:</label>
				<input type="text" id="fen-decode-input" placeholder="Paste FEN string here">
				<button onclick="decodeFEN()">Decode from FEN</button>
			</div>
			<div>
				<label for="fen-decode-output">Decoded Message:</label>
				<div class="result-field-container">
					<input type="text" id="fen-decode-output" readonly>
					<button class="copy-button" onclick="copyToClipboard('fen-decode-output', this)">[Copy]</button>
				</div>
			</div>
		</div>

		<!-- PGN Encoder/Decoder Section -->
		<div class="section" id="pgn-section">
			<h2>PGN Encoder/Decoder</h2>
			<p>
				This method encodes any UTF‑8 text into a legal PGN game by compressing the message and embedding bits
				into the move choices. Note that the PGN encoder may fail to encode some texts due to the specifics of
				the algorithm.
			</p>
			<div>
				<label for="pgn-input">Message to Encode:</label>
				<textarea id="pgn-input" placeholder="Enter any text to encode"></textarea>
				<button onclick="encodePGN()">Encode to PGN</button>
			</div>
			<div>
				<label for="pgn-output">Encoded PGN:</label>
				<div class="result-field-container">
					<textarea id="pgn-output" readonly></textarea>
					<button class="copy-button" onclick="copyToClipboard('pgn-output', this)">[Copy]</button>
				</div>
			</div>

			<div class="open-board">
				Open board:
				<a href="https://www.chess.com/analysis" target="_blank">Chess.com</a> |
				<a href="https://lichess.org/analysis" target="_blank">Lichess</a>
			</div>

			<div>
				<label for="pgn-decode-input">PGN to Decode:</label>
				<textarea id="pgn-decode-input" placeholder="Paste PGN text here"></textarea>
				<button onclick="decodePGN()">Decode from PGN</button>
			</div>
			<div>
				<label for="pgn-decode-output">Decoded Message:</label>
				<div class="result-field-container">
					<textarea id="pgn-decode-output" readonly></textarea>
					<button class="copy-button" onclick="copyToClipboard('pgn-decode-output', this)">[Copy]</button>
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>
	<script src="js/fen.js"></script>
	<script src="js/pgn.js"></script>
	<script src="js/copy.js"></script>
</body>

</html>